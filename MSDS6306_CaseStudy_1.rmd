---
title: "Case Study 1"
author: "Rajat Chandna, Andy Ho, An Nguyen, Jodi Pafford, Tori Wheelis"
date: "June 6, 2018"
output:
  html_document:
    keep_md: yes
---


```{r}
#read in Beers data set with correct character formatting.
Beers <- read.csv("Beers.csv", header=TRUE, fileEncoding = 'UTF-8')

#remove years at the end of beer's name 
Beers2 <- Beers
Beers2$Name <- gsub("\\(+[^\\)]+\\)", "", Beers2$Name)


#remove all duplicates, only if name, abv, ibu, brewery id, style and volume are the same.
#UniqueBeers <- Beers[-which(duplicated(Beers$Name) & duplicated(Beers$ABV) & duplicated(Beers$IBU) & duplicated(Beers$Brewery_id) & duplicated(Beers$Style) & duplicated(Beers$Ounces)),]


#Keeping An's code for UniqueBeers but adding Jodi's as UniqueBeer2 in case An's version is correct. The code below keeps everything is not a duplicate in Name, ABV, IBU, Brewery_ID, Style and Ounces.
#Jodi's is correct, there were some beers that were incorrectly removed with my code.  ANguyen 6/15/2018
UniqueBeers2 <- Beers2[!duplicated(Beers2[c(1,3,4,5,6,7)]),]
```

####Tidying Breweries Data
```{r}
#Tidying Breweries.csv Section. Completed by Rajat and Andy
#First inspect the State column.  We listed out the States and got the count for each.  If observation > 50, we investigated further by examining all the States with a count of 1 (DC, ND, SD, WV).  In this case, there was 51 States and confirmed the 51st was DC which is acceptable.  All abbreviations in State column is valid.
breweries <- read.csv("Breweries.csv", header = TRUE)
str(breweries)
summary(breweries)
table(breweries$State)
```

```{r}
#In this section, looking to clean up the "City" column.  Still looking for a more elequent code but for now creating subsets for each letter and visually identifying misspellings, abbreviations, and/or punctuations.  Rajat to research a function that creates a subset of cities by subsetting cities with the same 3 letter string.
unique(breweries[grep("[.]", breweries$City), "City"])
unique(breweries[grep("^[Mm].*", breweries$City), "City"])
unique(breweries[grep("^[Ss].*", breweries$City), "City"])
```

```{r}
#With State and City cleaned up, we check for duplicates breweries by matching the name, each's city, than state.  Still in process.
```